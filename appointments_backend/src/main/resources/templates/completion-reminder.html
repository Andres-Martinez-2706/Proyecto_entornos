<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Recordatorio - Completar Registro de Citas</title>
  </head>
  <body style="font-family: 'Segoe UI', Arial, sans-serif; background:#f7f9fc; margin:0; padding:20px;">
    <div style="max-width:600px; margin: auto;">
      <div style="background:#fff; border-radius:10px; overflow:hidden; box-shadow:0 4px 14px rgba(0,0,0,0.08);">
        <!-- Header -->
        <div style="background:#f59e0b; color:#fff; padding:16px; text-align:center;">
          <h2 style="margin:0;">⏰ Recordatorio: Citas Pendientes</h2>
        </div>
        
        <!-- Body -->
        <div style="padding:18px; color:#333;">
          <p>Hola <strong th:text="${operatorName}">Operario</strong>,</p>
          <p style="margin-top:8px;">
            Tienes <strong th:text="${pendingCount}">X</strong> cita(s) pasada(s) que requieren completar su registro.
          </p>
          
          <div style="background:#fef3c7; border-left:4px solid #f59e0b; padding:12px; margin-top:16px; border-radius:4px;">
            <p style="margin:0 0 8px 0; color:#92400e; font-weight:600;">
              ⚠️ Acción requerida
            </p>
            <p style="margin:0; color:#92400e; font-size:14px;">
              Para cada cita, debes indicar:
            </p>
            <ul style="margin:8px 0 0 0; padding-left:20px; color:#92400e; font-size:14px;">
              <li>Si el usuario asistió o no</li>
              <li>Tus observaciones sobre la cita (obligatorio)</li>
              <li>Opcionalmente, una calificación del usuario (1-5 estrellas)</li>
            </ul>
          </div>
          
          <!-- Lista de citas pendientes -->
          <div style="margin-top:16px;">
            <h3 style="font-size:16px; color:#374151; margin-bottom:10px;">Citas pendientes de completar:</h3>
            
            <div th:each="appointment : ${appointments}" 
                 style="background:#f9fafb; border:1px solid #e5e7eb; border-radius:6px; padding:12px; margin-bottom:10px;">
              <div style="display:flex; justify-content:space-between; align-items:start;">
                <div>
                  <p style="margin:0; font-weight:600; color:#111827;" th:text="${appointment.title}">Título</p>
                  <p style="margin:4px 0 0 0; font-size:13px; color:#6b7280;">
                    <span th:text="${appointment.date}">Fecha</span> - 
                    <span th:text="${appointment.time}">Hora</span>
                  </p>
                  <p style="margin:4px 0 0 0; font-size:13px; color:#6b7280;">
                    Usuario: <span th:text="${appointment.userName}">Usuario</span>
                  </p>
                </div>
              </div>
            </div>
          </div>
          
          <p style="margin-top:16px; color:#666; font-size:13px;">
            Por favor, completa el registro de estas citas lo antes posible para mantener el sistema actualizado.
          </p>
        </div>
        
        <!-- Footer -->
        <div style="background:#f1f5f9; padding:10px; text-align:center; color:#6b7280; font-size:12px;">
          © 2025 Sistema de Citas
        </div>
      </div>
    </div>
  </body>
</html>